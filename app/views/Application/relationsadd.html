<!DOCTYPE html>
<html>
<head>
    <script src="../../public/javascripts/ob_id.js" type="text/javascript"></script>
    <script src="../../public/javascripts/jquery-1.6.4.min.js" type="text/javascript"></script>
    <script src="../../public/jquery-easyui-1.3.5/jquery.easyui.min.js" type="text/javascript"></script>

    <script src="../../public/jquery-easyui-1.3.5/locale/easyui-lang-zh_CN.js" type="text/javascript"></script>

    <link href="../../public/jquery-easyui-1.3.5/themes/icon.css" rel="stylesheet" type="text/css"/>
    <link href="../../public/jquery-easyui-1.3.5/themes/default/easyui.css" rel="stylesheet" type="text/css"/>
    <link href="../../public/stylesheets/extEasyUIIcon.css" rel="stylesheet" type="text/css"/>
    <script src="../../public/javascripts/jquery.format.js" type="text/javascript"></script>

    <script src="../../public/javascripts/extEasyUI.js" type="text/javascript"></script>
    <script src="../../public/javascripts/extJquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="../../public/javascripts/jquery.cityselect.js"></script>

    <script type="text/javascript">
    $(function() {
        parent.$.messager.progress('close');
        $('#form').form({
            url : '/relationsaction/relationsadd',
            onSubmit : function() {
                console.info($("#degree").val);
                parent.$.messager.progress({
                    title : '提示',
                    text : '数据处理中，请稍后....'
                });
                var isValid = $(this).form('validate');
                if (!isValid) {
                    parent.$.messager.progress('close');
                }
                return isValid;
            },
            success : function(result) {
                parent.$.messager.progress('close');
//                result = $.parseJSON(result);
                if (result) {
                    parent.$.messager.alert('修改成功', result, 'success');
                } else {
                    parent.$.messager.alert('错误', result, 'error');
                }
            }
        });
        //conboboc
        $('#industry').combobox({
            method:'GET',
            url:'/combobox_industry',
            valueField:'id',
            textField:'text'
        });

        $("#joinus").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '分销供应商',
                value: '分销供应商'
            },{
                id: '招聘供应商',
                value: '招聘供应商'
            }]
        });

        $("#customertypeparent").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '现有客户',
                value: '现有客户'
            },{
                id: '潜在客户',
                value: '潜在客户'
            },{
                id: '重点客户',
                value: '重点客户'
            },{
                id: '其他',
                value: '其他'
            },{
                id: '供应商',
                value: '供应商'
            },{
                id: '个人客户',
                value: '个人客户'
            },{
                id: '公司客户',
                value: '公司客户'
            },{
                id: '普通客户',
                value: '普通客户'
            }]
        });

        $("#customertype").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '一般客户',
                value: '一般客户'
            },{
                id: '大客户',
                value: '大客户'
            },{
                id: '重点客户',
                value: '重点客户'
            },{
                id: 'VIP客户',
                value: 'VIP客户'
            },{
                id: '黑名单',
                value: '黑名单'
            },{
                id: '不确定客户',
                value: '不确定客户'
            },{
                id: '大客户',
                value: '大客户'
            },{
                id: '独家区域代理',
                value: '独家区域代理'
            },{
                id: '地区核心代理',
                value: '地区核心代理'
            },{
                id: '增值服务代理商',
                value: '增值服务代理商'
            },{
                id: '软件第三方控件供货商',
                value: '软件第三方控件供货商'
            },{
                id: '硬件产品供货商',
                value: '硬件产品供货商'
            },{
                id: '行政、办公类',
                value: '地区核心代理'
            },{
                id: '无效客户',
                value: '无效客户'
            }]
        });

        $("#degree").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '不认可',
                value: '不认可'
            },{
                id: '一般认可',
                value: '一般认可'
            },{
                id: '非常认可',
                value: '非常认可'
            }]
        });

        $("#relation").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '紧密',
                value: '紧密'
            },{
                id: '好',
                value: '好'
            },{
                id: '一般',
                value: '一般'
            },{
                id: '游离',
                value: '游离'
            },{
                id: '排斥',
                value: '排斥'
            },{
                id: '反感',
                value: '反感'
            }]
        });

        $("#persondegree").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '不认可',
                value: '不认可'
            },{
                id: '一般认可',
                value: '一般认可'
            },{
                id: '非常认可',
                value: '非常认可'
            }]
        });

        $("#creditworthiness").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '很好',
                value: '很好'
            },{
                id: '一般',
                value: '一般'
            },{
                id: '不好',
                value: '不好'
            },{
                id: '黑名单',
                value: '黑名单'
            }]
        });

        $("#importance").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '非常重要',
                value: '非常重要'
            },{
                id: '重要',
                value: '重要'
            },{
                id: '一般',
                value: '一般'
            },{
                id: '较弱',
                value: '较弱'
            }]
        });

        $("#lifetype").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"",
            multiple:true,
            data: [{
                id: '通讯',
                value: '通讯'
            },{
                id: '软硬件',
                value: '软硬件'
            },{
                id: '教育培训',
                value: '教育培训'
            }]
        });

        $("#role").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"--请选择--",
            data: [{
                id: 'HR',
                value: 'HR'
            },{
                id: '面试官',
                value: '面试官'
            },{
                id: '技术负责人',
                value: '技术负责人'
            },{
                id: '财务负责人',
                value: '财务负责人'
            },{
                id: '使用人',
                value: '使用人'
            },{
                id: '引导人',
                value: '引导人'
            }]
        });

        $("#affiliation").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '中央',
                value: '中央'
            },{
                id: '省（自治区、直辖市）',
                value: '省（自治区、直辖市）'
            },{
                id: '地（区、市、州、盟）',
                value: '地（区、市、州、盟）'
            },{
                id: '县（区、市、旗）',
                value: '县（区、市、旗）'
            },{
                id: '街道',
                value: '街道'
            },{
                id: '镇',
                value: '镇'
            },{
                id: '乡',
                value: '乡'
            },{
                id: '居委会',
                value: '居委会'
            },{
                id: '村委会',
                value: '村委会'
            },{
                id: '其他',
                value: '其他'
            }]
        });

         $("#enterpriseproperty").combobox({
            valueField:'id',
            textField: 'value',
            panelHeight:'auto',
            value:"-- 请选择--",
            data: [{
                id: '国有企业',
                value: '国有企业'
            },{
                id: '外资企业',
                value: '外资企业'
            },{
                id: '合资企业',
                value: '合资企业'
            },{
                id: '私营企业',
                value: '私营企业'
            },{
                id: '股份制企业',
                value: '股份制企业'
            },{
                id: '行政机关',
                value: '行政机关'
            },{
                id: '事业单位',
                value: '事业单位'
            },{
                id: '其他',
                value: '其他'
            }]
        });
        var date =new Date().formatStr();
        $("#createdate").val(date);
        $("#city").citySelect({prov:"北京",nodata:"none"});
    });

    // $("input[name='id']").val(getCookie('ob_id'));

</script>
</head>
<body>
<div class="easyui-layout" data-options="fit:true,border:false">
    <div data-options="region:'center',border:false" title="" >
        <form id="form" method="post">
            <fieldset>
                <legend>基本信息</legend>
                <table class="table table-hover table-condensed" style="width: 80%;display: inline-block;float: left;">
                    <tr>
                        <th>客户标识</th>
                        <td><input type="radio" name="rel.identifying" value="企业" checked>企业<input type="radio" name="rel.identifying" value="个人" >个人</td>
                        <th style="padding-left: 220px;">创建人</th>
                        <td ><input name="rel.creater"  type="text" value="${session.get("truename")}"  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr >
                        <th>客户编号</th>
                        <td><input name="rel.customerid" type="text" value=""  class="easyui-validatebox span2" data-options="required:true"></td>
                        <th style="padding-left: 220px;">客户简称</th>
                        <td><input name="rel.customerreferred" type="text" value=""  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>客户名称</th>
                        <td><input name="rel.customername" type="text" value=""  class="easyui-validatebox span2" data-options="required:true" ></td>
                        <th style="padding-left: 220px;">英文名</th>
                        <td><input name="rel.englishname" type="text" class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>加入</th>
                        <td><input id="joinus" name="rel.joinus" type="text" value=""  class="easyui-combobox" ></td>
                        <th style="padding-left: 220px;">客户类型</th>
                        <td>
                            <input id="customertypeparent" name="rel.customertypeparent" type="text" value=""  class="easyui-combobox" >
                        </td>
                        <td>
                            <input id="customertype" name="rel.customertype" type="text" value=""  class="easyui-combobox" >
                        </td>
                    </tr>
                    <tr>
                        <th>地区</th>
                        <td >
                            <div id="city">
                                <select name="rel.prov" class="prov"></select>
                                <select name="rel.city" class="city" disabled="disabled"></select>
                                <select name="rel.dist" class="dist" disabled="disabled"></select>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>所属客户</th>
                        <td><input type="radio" name="rel.belongs" value="私有" checked>私有<input type="radio" name="rel.belongs" value="公有" >公有</td>
                        <th style="padding-left: 220px;">所属人</th>
                        <td><input name="rel.belongpeople" type="text"  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>总机电话</th>
                        <td><input name="rel.phone" type="text" class="easyui-validatebox span2" ></td>
                        <th style="padding-left: 220px;">电子邮件</th>
                        <td><input name="rel.email" type="text"  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>地址</th>
                        <td><input id="address" name="rel.address" type="text"  class="easyui-validatebox span2"></td>
                        <th style="padding-left: 220px;">邮政编码</th>
                        <td><input id="postalcode" name="rel.postalcode" type="text"  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>网址</th>
                        <td><input id="web" name="rel.web" type="text"  class="easyui-validatebox span2" ></td>
                        <th style="padding-left: 220px;">行业</th>
                        <td>
                            <input id="industry" name="rel.industry" type="text" value="--请选择--" class="easyui-combobox" >
                        </td>
                    </tr>
                    <tr>
                        <th>认可程度</th>
                        <td><input id="degree" name="rel.degree" type="text" value="--请选择--"  class="easyui-combobox" ></td>
                        <th style="padding-left: 220px;">企业性质</th>
                        <td><input id="enterpriseproperty" name="rel.enterpriseproperty" type="text" value="--请选择--"  class="easyui-combobox" ></td>
                    </tr>
                    <tr>
                        <th>上级公司</th>
                        <td><input id="parentcompany" name="rel.parentcompany" type="text" value="--请选择--" class="easyui-combobox" ></td>
                        <th style="padding-left: 220px;">信誉度</th>
                        <td><input id="creditworthiness" name="rel.creditworthiness" type="text" value="--请选择--"  class="easyui-combobox" ></td>
                    </tr>
                    <tr>
                        <th>信用额度</th>
                        <td><input id="highestdegree" name="rel.highestdegree" type="text" value="0" class="easyui-validatebox span2" ></td>
                        <th style="padding-left: 220px;">赊销天数</th>
                        <td><input name="rel.creditlimit" type="text" value="0"  class="easyui-validatebox span2"></td>
                    </tr>
                    <tr>
                        <th>隶属关系</th>
                        <td><input id="affiliation" name="rel.affiliation" type="text" value="--请选择--"  class="easyui-combobox" ></td>
                    </tr>
                    <tr>
                        <th>公司简介</th>
                        <td colspan="8"><textarea id="companyprofile" name="rel.companyprofile" style="width:96%;height: 45px;"></textarea></td>
                    </tr>
                    <tr>
                        <th>创建时间</th>
                        <td><input id="createdate" name="rel.createdate" type="text" value=""  class="easyui-validatebox span2" readonly="readonly"></td>
                        <th style="padding-left: 220px;">生活类型</th>
                        <td><input id="lifetype" name="rel.lifetype" type="text" value=""  class="easyui-combobox" ></td>
                    </tr>
                </table>
                <td style="float:right;"><button type="submit"  data-options="plain:true,iconCls:'pencil_add'">保存</button></td>
            </fieldset>

            <fieldset>
                <legend>联系人信息</legend>
                <table class="table table-hover table-condensed" style="width: 100%;display: inline-block;float: left;">
                    <tr>
                        <th>姓名</th>
                        <td><input name="rel.truename" type="text" value=""  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr><th >性别</th>
                        <td><input type="radio" name="rel.sex" value="男" checked>男<input type="radio" name="rel.sex" value="女" >女</td>
                        <th style="padding-left: 220px;">年龄</th>
                        <td ><input name="rel.age" type="text" value="0"  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>状态</th>
                        <td><input type="radio" name="rel.state" value="在职" checked>在职<input type="radio" name="rel.state" value="离职" >离职</td>
                        <th style="padding-left: 220px;">离职日期</th>
                        <td><input id="departuredate" name="rel.departuredate" type="text" value=""  class="easyui-datebox" ></td>
                    </tr>
                    <tr>
                        <th>职位</th>
                        <td><input name="rel.position" type="text" value=""  class="easyui-validatebox span2" ></td>
                        <th style="padding-left: 220px;">角色</th>
                        <td ><input id="role" name="rel.role" type="text" value=""   class="easyui-combobox"></td>
                    </tr>
                    <tr>
                        <th>办公电话</th>
                        <td><input name="rel.officephone" type="text" value=""  class="easyui-validatebox span2" ></td>
                        <th style="padding-left: 220px;">手机</th>
                        <td ><input name="rel.telephone" type="text" value=""  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>传真号码</th>
                        <td><input name="rel.fax" type="text" value=""  class="easyui-validatebox span2" ></td>
                        <th style="padding-left: 220px;">电子邮件</th>
                        <td ><input name="rel.personemail" type="text" value=""  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>家庭电话</th>
                        <td><input name="rel.homephone" type="text" value=""  class="easyui-validatebox span2" ></td>
                        <th style="padding-left: 220px;">MSN(QQ)</th>
                        <td ><input name="rel.qq" type="text" value=""  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>地址</th>
                        <td><input name="rel.personaddress" type="text" value=""  class="easyui-validatebox span2" ></td>
                        <th style="padding-left: 220px;">邮政编码</th>
                        <td ><input name="rel.personpostalcode" type="text" value=""  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>认可程度</th>
                        <td><input id="persondegree" name="rel.persondegree" type="text" value=""   class="easyui-combobox" ></td>
                        <th style="padding-left: 220px;">重要程度</th>
                        <td ><input id="importance" name="rel.importance" type="text" value=""   class="easyui-combobox"></td>
                    </tr>
                    <tr>
                        <th>关系</th>
                        <td><input id="relation" name="rel.relation" type="text" value=""   class="easyui-combobox" ></td>
                        <th style="padding-left: 220px;">联系对象</th>
                        <td ><input name="rel.contactobject" type="text" value=""   class="easyui-validatebox span2"  ></td>
                    </tr>
                </table>
                <table class="table table-hover table-condensed" style="width: 100%;display: inline-block;float: left;">
                    <tr>
                        <th>负责的需求</th>
                        <td colspan="4"><input name="rel.takeneed" type="text" style="width: 585px" value=""   class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>关心重点</th>
                        <td colspan="4"><input name="rel.concern" type="text" style="width: 585px" value=""  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>利益诉求</th>
                        <td colspan="4"><input name="rel.interestappeal" type="text" style="width: 585px" value=""  class="easyui-validatebox span2" ></td>
                    </tr>
                    <tr>
                        <th>备注</th>
                        <td colspan="4"><textarea name="rel.remark" type="text" style="width: 585px" value=""  class="easyui-validatebox span2" ></textarea></td>
                    </tr>
                </table>
            </fieldset>
        </form>
    </div>
</div>
</body>
</html>